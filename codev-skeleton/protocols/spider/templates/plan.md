# План: [Название]

## Метаданные
- **ID**: plan-[ГГГГ-ММ-ДД]-[краткое-название]
- **Статус**: черновик
- **Спецификация**: [Ссылка на codev/specs/spec-file.md]
- **Создан**: [ГГГГ-ММ-ДД]

## Краткое резюме
[Кратко опишите выбранный подход к реализации и почему он выбран. Сошлитесь на соответствующий раздел спецификации.]

## Метрики успеха
[Скопируйте из спецификации и добавьте метрики, относящиеся к реализации]
- [ ] Выполнены все критерии спецификации
- [ ] Покрытие тестами >90%
- [ ] Достигнуты целевые показатели производительности
- [ ] Отсутствуют критичные проблемы безопасности
- [ ] Документация завершена

## Разбиение по фазам

### Фаза 1: [Описание]
**Зависимости**: нет

#### Цели
- [Единственная чёткая цель фазы]
- [Какую ценность даёт фаза]

#### Артефакты
- [ ] [Конкретный артефакт 1]
- [ ] [Конкретный артефакт 2]
- [ ] [Тесты для фазы]
- [ ] [Обновления документации]

#### Детали реализации
[Опишите технический подход для фазы. Укажите:
- Ключевые файлы/модули для создания или правок
- Архитектурные решения
- Контракты API
- Модели данных]

#### Критерии приёмки
- [ ] [Проверяемое условие 1]
- [ ] [Проверяемое условие 2]
- [ ] Все тесты зелёные
- [ ] Код прошёл ревью

#### План тестирования
- **Unit-тесты**: [Что покрываем]
- **Интеграционные тесты**: [Что проверяем]
- **Ручная проверка**: [Сценарии для валидации]

#### Стратегия отката
[Как откатить изменения фазы при обнаружении проблем]

#### Риски
- **Риск**: [Конкретный риск]
  - **Снижение**: [Мера реагирования]

---

### Фаза 2: [Описание]
**Зависимости**: Фаза 1

[Повторите структуру для следующих фаз]

---

### Фаза 3: [Описание]
**Зависимости**: Фаза 2

[Продолжайте для всех фаз]

## Карта зависимостей
```
Фаза 1 ──→ Фаза 2 ──→ Фаза 3
             ↓
         Фаза 4 (опционально)
```

## Потребности в ресурсах
### Разработка
- **Инженеры**: [Необходимая экспертиза]
- **Окружение**: [Требования к dev/staging]

### Инфраструктура
- [Изменения БД]
- [Новые сервисы]
- [Конфигурационные обновления]
- [Мониторинг]

## Точки интеграции
### Внешние системы
- **Система**: [Название]
  - **Тип интеграции**: [API/БД/очередь]
  - **Фаза**: [В какой фазе нужно]
  - **Fallback**: [Что делать при недоступности]

### Внутренние системы
[Используйте ту же структуру]

## Анализ рисков
### Технические риски
| Риск | Вероятность | Влияние | Митигирующая мера | Ответственный |
|------|-------------|---------|-------------------|---------------|
| [Риск 1] | Н/С/В | Н/С/В | [Стратегия] | [Имя] |

### Плановые риски
| Риск | Вероятность | Влияние | Митигирующая мера | Ответственный |
|------|-------------|---------|-------------------|---------------|
| [Риск 1] | Н/С/В | Н/С/В | [Стратегия] | [Имя] |

## Контрольные точки проверки
1. **После фазы 1**: [Что валидируем]
2. **После фазы 2**: [Что валидируем]
3. **Перед продом**: [Итоговые проверки]

## Мониторинг и наблюдаемость
### Метрики
- [Метрика 1: описание и порог]
- [Метрика 2: описание и порог]

### Логирование
- [Что логируем и на каком уровне]
- [Требования к хранению]

### Алерты
- [Условие и критичность]
- [Кого уведомлять]

## Необходимые обновления документации
- [ ] API-документация
- [ ] Архитектурные диаграммы
- [ ] Runbook'и
- [ ] Руководства пользователя
- [ ] Настройки и конфигурации

## Действия после внедрения
- [ ] Валидация производительности
- [ ] Аудит безопасности
- [ ] Нагрузочное тестирование
- [ ] Приёмочное тестирование
- [ ] Проверка мониторинга

## Экспертное ревью
**Дата**: [ГГГГ-ММ-ДД]
**Модель**: [Использованный агент]
**Ключевые замечания**:
- [Оценка реализуемости]
- [Пропущенные моменты]
- [Выявленные риски]
- [Альтернативы]

**Корректировки плана**:
- [Что изменили по результатам]

## Утверждение
- [ ] Ревью технического лида
- [ ] Одобрение менеджера разработки
- [ ] Подтверждение ресурсов
- [ ] Консультация AI-экспертов завершена

## Журнал изменений
| Дата | Изменение | Причина | Автор |
|------|-----------|---------|-------|
| [Дата] | [Что изменилось] | [Почему] | [Кто] |

## Примечания
[Дополнительные предположения или контекст]
